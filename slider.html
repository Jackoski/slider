<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>slider</title>
    <style>
        * {
            margin: 0;
        }

        header {
            position: relative;
            height: 100vh;
            width: 100%;
            overflow: hidden;
        }

        .slider {
            position: absolute;
            min-height: 100%;
            min-width: 100%;
            opacity: 0.6;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }

        h1 {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            text-shadow: 0 0 5px white;
        }

        .dots {
            position: absolute;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
        }

        span {
            height: 20px;
            width: 20px;
            display: inline-block;
            background-color: black;
            border-radius: 50%;
            cursor: pointer;
        }

        span:hover {
            background-color: darkslategray;
        }

        .active {
            background-color: darkslategray;
        }

        .right {
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 10%;
            background-color: white;
            opacity: 0;
            cursor: pointer;

        }

        .left {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 10%;
            background-color: white;
            opacity: 0;
            text-align: center;
            margin: auto 0;
            cursor: pointer;
        }

        .right:hover {
            position: absolute;
            right: 0;
            top: 0;
            height: 100%;
            width: 10%;
            background-color: white;
            opacity: 0.2;

        }

        .left:hover {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 10%;
            background-color: white;
            opacity: 0.2;
        }

        .first {
            position: absolute;
            border: solid black;
            border-width: 0 3px 3px 0;
            padding: 50px;
            top: 40%;
            right: 40%;
            transform: rotate(-45deg)
        }

        .four {
            position: absolute;
            border: solid black;
            border-width: 0 3px 3px 0;
            padding: 50px;
            top: 40%;
            left: 40%;
            transform: rotate(135deg)
        }
    </style>
</head>

<body>
    <header>

        <img src="img1.jpg" alt="" class="slider" />
        <div class="right">
            <div class="first"></div>
        </div>
        <div class="left">
            <div class="four"></div>
        </div>
        <h1>Pierwszy tekst</h1>

        <div class="dots">
            <span class="active"></span>
            <span></span>
            <span></span>
        </div>
    </header>
    <script>
        const left = document.querySelector('.left')
        const right = document.querySelector('.right')
        const img = document.querySelector(".slider");
        const h1 = document.querySelector("h1");
        const dots = [...document.querySelectorAll(".dots span")];
        let number = 0;
        let interval;
        const items = [{
                src: "img1.jpg",
                tekst: "Pierwszy tekst"
            },
            {
                src: "img2.jpg",
                tekst: "Drugi tekst"
            },
            {
                src: "img3.jpg",
                tekst: "Trzeci tekst"
            }
        ];
        const changeDots = () => {
            dots.forEach(dot => dot.classList.remove('active'))
            dots[number].classList.add('active')
        }

        const change = () => {
            if (number < items.length) {
                img.src = items[number].src
                h1.textContent = items[number].tekst
                changeDots()
                number++
            } else {
                number = 0
            }
        }
        interval = setInterval(change, 1000);
        const keyChange = (e) => {
            if (e.keyCode == 39 || e.keyCode == 37) {
                e.keyCode == 39 ? number++ : number--
                clearInterval(interval)
                if (number == items.length) {
                    number = 0
                } else if (number < 0) {
                    number = items.length - 1
                }

                img.src = items[number].src
                h1.textContent = items[number].tekst
                changeDots()
                setInterval(interval, 1000)
            }
        }
        const changeEvry = (e) => {
            clearInterval(interval)
            dots.forEach(dot => dot.classList.remove('active'))
            e.target.classList.add('active')
            let number = dots.findIndex(dot => dot.classList.contains('active'))
            img.src = items[number].src
            h1.textContent = items[number].tekst
            interval = setInterval(change, 1000)
        }
        const leftArrow = () => {
            clearInterval(interval)
            img.src = items[number].src
            h1.textContent = items[number].tekst
            changeDots()
            number--
            if (number < 0) {
                number = items.length - 1
            }

            img.src = items[number].src
            h1.textContent = items[number].tekst
            changeDots()
            interval = setInterval(change, 1000)
        }
        const rightArrow = () => {
            clearInterval(interval)
            img.src = items[number].src
            h1.textContent = items[number].tekst
            changeDots()
            number++
            if (number == items.length) {
                number = 0
            }

            img.src = items[number].src
            h1.textContent = items[number].tekst
            changeDots()
            interval = setInterval(change, 1000)
        }
        window.addEventListener('keydown', keyChange)
        dots.forEach(dot => dot.addEventListener('click', changeEvry))
        left.addEventListener('click', leftArrow)
        right.addEventListener('click', rightArrow)
    </script>
</body>

</html>